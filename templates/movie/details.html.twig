{% extends 'base.html.twig' %}

{% block title %}Movie :
	{{ movie is not null ?  movie.title : 'Not Found' }}
{% endblock %}

{% block body %}

	<div class="example-wrapper">
		{% if movie is not null %}

			<h1 class="mb-5">Movie :
				{{ movie.title }}</h1>
			<img src="{{ movie.poster }}" alt="{{ movie.title }}" class="float-end">
			<ul>
				<li>Id :
					{{ movie.id }}</li>
				<li>Réalisé le :
					{{ movie.releasedAt|date("d M Y") }}</li>
				<li>Rated :
					{{ movie.rated }}</li>
				<li>Country :
					{{ movie.country }}</li>
				<li>Genres :
					{{ movie.genres|map(genre => genre.name)|join(', ') }}</li>

				{#   OU Mais ici il faut ajouter dans l'entité Genre un __toString    #}
			{#      <li>Genres : {{ movie.genres|join(', ') }}</li>     #}
				{#   OU    #}
				{#      <li>Genres : {{ movie.genres|reduce((carry, genre) => carry != '' ? carry ~ ', ' ~ genre.name : genre.name) }}</li>    #}
			</ul>
		{% else %}
			<h1>Movie not found</h1>
		{% endif %}
	</div>
{% endblock %}
